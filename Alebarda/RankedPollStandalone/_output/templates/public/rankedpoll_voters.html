<xf:title>{{ phrase('voters') }}: {{ $poll.title }}</xf:title>

<div class="block">
	<div class="block-container">
		<h2 class="block-header">
			<span class="block-header-icon">
				<i class="fa fa-users"></i>
			</span>
			{{ phrase('voters') }}: {{ $poll.title }}
		</h2>

		<div class="block-body">
			<div class="block-row">
				<p>{{ phrase('total') }}: {$total}</p>
			</div>

			<xf:if is="count($voters)">
				<xf:foreach loop="$voters" value="$voter">
					<div class="block-row block-row--separated">
						<div class="contentRow">
							<div class="contentRow-figure">
								<xf:avatar user="{$voter}" size="s" />
							</div>
							<div class="contentRow-main">
								<h3 class="contentRow-title">
									<xf:username user="{$voter}" />
								</h3>
							</div>
						</div>
					</div>
				</xf:foreach>

				<!-- Пагинация -->
				<xf:if is="$total > $perPage">
					<div class="block-row">
						<xf:pagenav page="{$page}" perpage="{$perPage}" total="{$total}" link="ranked-polls/voters" data="{{ {'poll_id': $poll.poll_id} }}" />
					</div>
				</xf:if>

			<xf:else />
				<div class="block-row">
					<div class="blockMessage blockMessage--none">
						{{ phrase('no_votes_cast') }}
					</div>
				</div>
			</xf:if>

			<!-- Навигация -->
			<div class="block-row block-row--separated">
				<a href="{{ link('ranked-polls', $poll) }}" class="button">
					<i class="fa fa-arrow-left"></i>
					<span class="button-text">{{ phrase('back_to_poll') }}</span>
				</a>
			</div>
		</div>
	</div>
</div>
